#include <iostream>
#include <thread>
using namespace std;

int contarD(char(*mat)[10], char* palabra)
{
	int contador=0;
	char*p=*mat;
	
	while(p<*(mat+10))
	{
		if(*p==*palabra)
		{
			char* temp=palabra;
			char* compara=p;
			bool cumple=true;
			for(;*temp!='\0';)
			{
				if(*compara==*temp)
				{
					compara++;
					temp++;
				}
				else
				{
					cumple=false;
					break;
				}
			}
			if(cumple)contador+=1;
		}
		p++;
	}
    return contador;
}



int contarI(char(*mat)[10], char* palabra)
{
	int contador=0;
	char*p=*mat;
	
	while(p<*(mat+10))
	{
		if(*p==*palabra)
		{
			char* temp=palabra;
			char* compara=p;
			bool cumple=true;
			for(;*temp!='\0';)
			{
				if(*compara==*temp)
				{
					compara--;
					temp++;
				}
				else
				{
					cumple=false;
					break;
				}
			}
			if(cumple)contador+=1;
			
		}
		p++;
	}
	
	return contador;
}

int contarB(char(*mat)[10], char* palabra)
{
	int contador=0;
	char*p=*mat;
	
	while(p<*(mat+10))
	{
		if(*p==*palabra)
		{
			char* temp=palabra;
			char* compara=p;
			bool cumple=true;
			for(;*temp!='\0';)
			{
				if(compara<*(mat+10) && *compara==*temp)
				{
					compara=compara+10;
					temp++;
				}
				else
				{
					cumple=false;
					break;
				}
			}
			if(cumple)contador+=1;
		}
		p++;
	}
	
	return contador;
}
			
int contarA(char(*mat)[10], char* palabra)
{
	int contador=0;
	char*p=*mat;
	
	while(p<*(mat+10))
	{
		if(*p==*palabra)
		{
			char* temp=palabra;
			char* compara=p;
			bool cumple=true;
			for(;*temp!='\0';)
			{
				if(compara>*(mat) && *compara==*temp)
				{
					compara=compara-10;
					temp++;
				}
				else
				{
					cumple=false;
					break;
				}
			}
			if(cumple)contador+=1;
			
		}
		p++;
	}
	
	return contador;
}


int contar(char(*mat)[10], char* palabra)
{
	int rD = 0;
    int	rI = 0; 
    int rB = 0; 
    int rA = 0;

    thread t1([&]() { rD = contarD(mat, palabra); });
    thread t2([&]() { rI = contarI(mat, palabra); });
    thread t3([&]() { rB = contarB(mat, palabra); });
    thread t4([&]() { rA = contarA(mat, palabra); });

    t1.join();
    t2.join();
    t3.join();
    t4.join();

    return rD + rI + rB + rA;
}

int main()
{
	char mat[10][10] = {
		{'C','A','S','A','D','O','R','A','D','O'},
	    {'D','C','A','S','A','D','O','A','S','A'},
		{'D','O','R','A','D','O','C','A','S','A'},
	    {'A','S','A','D','O','R','A','D','O','S'},
		{'C','A','S','A','D','O','C','A','S','A'},
	    {'A','D','O','A','S','A','D','O','S','O'},
		{'A','S','A','C','C','A','S','A','D','O'},
	    {'A','S','A','A','S','A','C','A','S','A'},
		{'C','A','S','A','D','O','A','S','A','D'},
    	{'D','O','R','A','D','O','A','S','A','C'},
	};
	
	char palabras[][10] = { "CASADO", "ASADO","DORADO","CASA","ASA" };
	
	cout << "CONTADOR DE PALABRAS" << endl;
	for (char(*p)[10] = palabras; p < palabras + 5; p++)
		cout << "La palabra " << *p << " aparece " << contar(mat,*p) << " veces" << endl;
}
